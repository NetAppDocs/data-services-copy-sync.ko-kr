---
sidebar: sidebar 
permalink: task-installing-linux.html 
keywords: data broker, install, linux, on-prem data broker, on-prem, on prem, on premises, networking, permissions, os, operating system, rhel, red hat, ram, cpu, disk space, install data broker, installing data broker, install a data broker, data broker installation, linux installation, linux operating system, aws access, aws keys, keys, gcp access, aws permissions, gcp permissions, google permissions 
summary: 새로운 데이터 브로커를 생성할 때 온프레미스 데이터 브로커 옵션을 선택하여 온프레미스 Linux 호스트나 클라우드의 기존 Linux 호스트에 데이터 브로커 소프트웨어를 설치합니다.  NetApp Copy and Sync 설치 과정을 안내하지만, 설치를 준비하는 데 도움이 되도록 이 페이지에서도 요구 사항과 단계를 반복해서 설명합니다. 
---
= NetApp Copy and Sync 위해 Linux 호스트에 데이터 브로커 설치
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Copy and Sync 대한 새 데이터 브로커 그룹을 만들 때 온프레미스 데이터 브로커 옵션을 선택하여 온프레미스 Linux 호스트 또는 클라우드의 기존 Linux 호스트에 데이터 브로커 소프트웨어를 설치합니다.  NetApp Copy and Sync 설치 과정을 안내하지만, 설치를 준비하는 데 도움이 되도록 이 페이지에서도 요구 사항과 단계를 반복해서 설명합니다.



== Linux 호스트 요구 사항

* *Node.js 호환성*: v21.2.0
* *운영체제*:
+
** CentOS 8.0 및 8.5
+
CentOS Stream은 지원되지 않습니다.

** Red Hat Enterprise Linux 8.5, 8.8, 8.9 및 9.4
** 로키 리눅스 9
** Ubuntu Server 20.04 LTS, 23.04 LTS 및 24.04 LTS
** SUSE Linux Enterprise Server 15 SP1
+
명령 `yum update` 데이터 브로커를 설치하기 전에 호스트에서 실행해야 합니다.

+
Red Hat Enterprise Linux 시스템은 Red Hat Subscription Management에 등록해야 합니다.  등록되지 않은 경우, 시스템은 설치 중에 필요한 타사 소프트웨어를 업데이트하기 위해 저장소에 접근할 수 없습니다.



* *램*: 16GB
* *CPU*: 4코어
* *사용 가능한 디스크 공간*: 10GB
* *SELinux*: 호스트에서 SELinux를 비활성화하는 것이 좋습니다.
+
SELinux는 데이터 브로커 소프트웨어 업데이트를 차단하는 정책을 시행하고 데이터 브로커가 정상적인 작동에 필요한 엔드포인트에 접속하는 것을 차단할 수 있습니다.





== 루트 권한

데이터 브로커 소프트웨어는 Linux 호스트에서 루트로 자동 실행됩니다.  데이터 브로커 작업을 위해서는 루트로 실행해야 합니다.  예를 들어, 주식을 마운트하는 것입니다.



== 네트워킹 요구 사항

* Linux 호스트는 소스와 대상에 연결되어 있어야 합니다.
* 파일 서버는 Linux 호스트가 내보내기에 액세스할 수 있도록 허용해야 합니다.
* AWS로의 아웃바운드 트래픽을 위해서는 Linux 호스트에서 포트 443이 열려 있어야 합니다(데이터 브로커는 Amazon SQS 서비스와 지속적으로 통신합니다).
* NetApp 소스, 대상 및 데이터 브로커를 구성하여 NTP(네트워크 시간 프로토콜) 서비스를 사용할 것을 권장합니다.  세 가지 구성 요소 간의 시간 차이는 5분을 초과해서는 안 됩니다.




== AWS에 대한 액세스 활성화

S3 버킷을 포함하는 동기화 관계로 데이터 브로커를 사용하려는 경우 AWS 액세스를 위해 Linux 호스트를 준비해야 합니다. 데이터 브로커를 설치할 때 프로그래밍 방식 액세스와 특정 권한이 있는 AWS 사용자에 대한 AWS 키를 제공해야 합니다.

.단계
. 다음을 사용하여 IAM 정책을 만듭니다. https://s3.amazonaws.com/metadata.datafabric.io/docs/on_prem_iam_policy.json["이 NetApp 제공 정책"^]
+
https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html["AWS 지침 보기"^]

. 프로그래밍 방식 액세스 권한이 있는 IAM 사용자를 만듭니다.
+
https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html["AWS 지침 보기"^]

+
데이터 브로커 소프트웨어를 설치할 때 AWS 키를 지정해야 하므로 반드시 복사하세요.





== Google Cloud에 대한 액세스 활성화

Google Cloud Storage 버킷을 포함하는 동기화 관계로 데이터 브로커를 사용하려는 경우 Google Cloud 액세스를 위해 Linux 호스트를 준비해야 합니다. 데이터 브로커를 설치할 때 특정 권한이 있는 서비스 계정에 대한 키를 제공해야 합니다.

.단계
. 아직 스토리지 관리자 권한이 있는 Google Cloud 서비스 계정이 없다면 하나 만드세요.
. JSON 형식으로 저장된 서비스 계정 키를 만듭니다.
+
https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys["Google Cloud 지침 보기"^]

+
파일에는 최소한 "project_id", "private_key" 및 "client_email" 속성이 포함되어야 합니다.

+

NOTE: 키를 생성하면 파일이 생성되어 컴퓨터에 다운로드됩니다.

. JSON 파일을 Linux 호스트에 저장합니다.




== Microsoft Azure에 대한 액세스 활성화

Azure에 대한 액세스는 동기화 관계 마법사에서 저장소 계정과 연결 문자열을 제공하여 관계별로 정의됩니다.



== 데이터 브로커 설치

동기화 관계를 만들 때 Linux 호스트에 데이터 브로커를 설치할 수 있습니다.

.단계
. link:task-login-copyandsync.html["복사 및 동기화에 로그인하세요"] .
. *새 동기화 만들기*를 선택합니다.
. *동기화 관계 정의* 페이지에서 소스와 대상을 선택하고 *계속*을 선택합니다.
+
*데이터 브로커 그룹* 페이지에 도달할 때까지 단계를 완료하세요.

. *데이터 브로커 그룹* 페이지에서 *데이터 브로커 만들기*를 선택한 다음 *온프레미스 데이터 브로커*를 선택합니다.
+
image:screenshot-on-prem.png["AWS, Azure, Google Cloud, 온프레미스 데이터 브로커 중에서 선택할 수 있는 Data Broker 페이지의 스크린샷입니다."]

+

NOTE: 해당 옵션은 *_온프레미스_ 데이터 브로커*로 표시되어 있지만, 이는 사내 또는 클라우드의 Linux 호스트에 적용됩니다.

. 데이터 브로커의 이름을 입력하고 *계속*을 선택합니다.
+
곧 지침 페이지가 로드됩니다.  다음 지침을 따라야 합니다. 이 지침에는 설치 프로그램을 다운로드할 수 있는 고유 링크가 포함되어 있습니다.

. 지침 페이지에서:
+
.. *AWS*, *Google Cloud* 또는 둘 다에 대한 액세스를 활성화할지 선택합니다.
.. 설치 옵션을 선택하세요: *프록시 없음*, *프록시 서버 사용*, *인증과 함께 프록시 서버 사용*.
+

NOTE: 사용자는 로컬 사용자여야 합니다. 도메인 사용자는 지원되지 않습니다.

.. 명령을 사용하여 데이터 브로커를 다운로드하고 설치합니다.
+
다음 단계에서는 가능한 각 설치 옵션에 대한 자세한 내용을 제공합니다.  설치 옵션에 따라 정확한 명령을 얻으려면 지침 페이지를 따르세요.

.. 설치 프로그램을 다운로드하세요:
+
*** 프록시 없음:
+
`curl <URI> -o data_broker_installer.sh`

*** 프록시 서버 사용:
+
`curl <URI> -o data_broker_installer.sh -x <proxy_host>:<proxy_port>`

*** 인증과 함께 프록시 서버를 사용합니다.
+
`curl <URI> -o data_broker_installer.sh -x <proxy_username>:<proxy_password>@<proxy_host>:<proxy_port>`

+
URI:: 복사 및 동기화는 설치 파일의 URI를 지침 페이지에 표시합니다. 이 URI는 온프레미스 데이터 브로커를 배포하기 위한 프롬프트를 따르면 로드됩니다.  해당 URI는 여기서 반복되지 않습니다. 링크는 동적으로 생성되고 한 번만 사용할 수 있기 때문입니다. <<데이터 브로커 설치,Copy and Sync에서 URI를 얻으려면 다음 단계를 따르세요.>> .




.. 슈퍼유저로 전환하고 설치 프로그램을 실행 가능하게 한 후 소프트웨어를 설치합니다.
+

NOTE: 아래 나열된 각 명령에는 AWS 액세스 및 Google Cloud 액세스에 대한 매개변수가 포함되어 있습니다.  설치 옵션에 따라 정확한 명령을 얻으려면 지침 페이지를 따르세요.

+
*** 프록시 구성 없음:
+
`sudo -s
chmod +x data_broker_installer.sh
./data_broker_installer.sh -a <aws_access_key> -s <aws_secret_key> -g <absolute_path_to_the_json_file>`

*** 프록시 구성:
+
`sudo -s
chmod +x data_broker_installer.sh
./data_broker_installer.sh -a <aws_access_key> -s <aws_secret_key> -g <absolute_path_to_the_json_file> -h <proxy_host> -p <proxy_port>`

*** 인증을 통한 프록시 구성:
+
`sudo -s
chmod +x data_broker_installer.sh
./data_broker_installer.sh -a <aws_access_key> -s <aws_secret_key> -g <absolute_path_to_the_json_file> -h <proxy_host> -p <proxy_port> -u <proxy_username> -w <proxy_password>`

+
AWS 키:: 이는 사용자가 준비해야 하는 키입니다.<<AWS에 대한 액세스 활성화,다음 단계를 따르세요>> .  AWS 키는 온프레미스 또는 클라우드 네트워크에서 실행되는 데이터 브로커에 저장됩니다.  NetApp 데이터 브로커 외부의 키를 사용하지 않습니다.
JSON 파일:: 이것은 당신이 준비해야 할 서비스 계정 키가 포함된 JSON 파일입니다.<<Google Cloud에 대한 액세스 활성화,다음 단계를 따르세요>> .






. 데이터 브로커를 사용할 수 있게 되면 복사 및 동기화에서 *계속*을 선택합니다.
. 마법사의 페이지를 완료하여 새로운 동기화 관계를 만듭니다.

